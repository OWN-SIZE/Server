# TEAM OWNSIZE
![1](https://user-images.githubusercontent.com/87058086/212251691-04f91c31-bdd2-40c0-bea2-32983c35986a.jpg)

ğŸ”” ì„œë¹„ìŠ¤ëª… : ì˜¨ì‚¬ì´ì¦ˆ

ğŸ”” ì„œë¹„ìŠ¤ í•œì¤„ì†Œê°œ : ì‰½ê³  ë˜‘ë˜‘í•œ ë‚˜ì˜ ì‡¼í•‘ ë„ìš°ë¯¸, ì˜¨ì‚¬ì´ì¦ˆ

ğŸ”” ì„œë¹„ìŠ¤ ê°€ì¹˜ì œì•ˆ : 
- ë‹¨ìˆœí•œ / Simple : ëª‡ ë²ˆì˜ í´ë¦­ë§Œìœ¼ë¡œ ì‚¬ì´ì¦ˆë¥¼ ì¶”ì²œë°›ê³  ë‚˜ì˜ ì˜·ì¥ì— ì €ì¥í•´ìš”
- ê°œì¸í™”ëœ / Personalize : ì˜¤ë¡œì§€ ë‚˜ë§Œì˜ ê¸°ì¤€ìœ¼ë¡œ ì˜·ì„ ì¶”ì²œë°›ê³  ë¶„ë¥˜í•´ìš”
- ë˜‘ë˜‘í•œ / Smart : ìµìŠ¤í…ì…˜ì„ í†µí•´ ë³´ë‹¤ ë˜‘ë˜‘í•˜ê²Œ ì‡¼í•‘í•´ìš”

ğŸ”” ì„œë¹„ìŠ¤ ë¬¸ì œì •ì˜ : 
- ì‚¬ì´ì¦ˆ ì‹¤íŒ¨ë¡œ ì¸í•´ ë°œìƒí•˜ê²Œ ë  í™˜ë¶ˆ, êµí™˜, ë°˜ì†¡ì— ëŒ€í•œ ìŠ¤íŠ¸ë ˆìŠ¤
- ì •í™•í•œ ì‚¬ì´ì¦ˆë¥¼ ê³ ë¥´ê³ ì ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê³¼ì • ì† ë²ˆê±°ë¡œì›€

ğŸ”” ì„œë¹„ìŠ¤ íƒ€ê²Ÿì •ì˜ : 
- íŒ¨ì…˜ì— ê´€ì‹¬ì´ ë§ì•„ ì˜¨ë¼ì¸ì—ì„œ ë‹¤ì–‘í•œ ì˜ë¥˜ ë° ê´€ë ¨ì •ë³´ë¥¼ ì°¾ì•„ë³´ë©° êµ¬ë§¤ë¥¼ ê²°ì •í•˜ëŠ” ê³ ê°
- ì˜¨ë¼ì¸ì—ì„œì˜ ì‚¬ì´ì¦ˆ ì‹¤íŒ¨ ê²½í—˜ìœ¼ë¡œ ì¸í•´ ì˜¤í”„ë¼ì¸ ì‡¼í•‘ìœ¼ë¡œ ì „í™˜í•œ ê³ ê°

<br/>

### <strong> ğŸƒ Used ğŸƒ </strong>
<br>
<p>
<img alt="TypeScript" src="https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white"/>
<img alt="PostgreSQL" src="https://img.shields.io/badge/PostgreSQL-4169E1.svg?style=for-the-badge&logo=postgresql&logoColor=white"/>
<img alt="Prisma" src="https://img.shields.io/badge/Prisma-2D3748.svg?style=for-the-badge&logo=Prisma&logoColor=white"/>
<img alt="AWS" src="https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white"/><br>
<img alt="Prettier" src="https://img.shields.io/badge/Prettier-F7B93E.svg?style=for-the-badge&logo=Prettier&logoColor=black"/>
<img alt="ESLint" src="https://img.shields.io/badge/ESLint-4B32C3.svg?style=for-the-badge&logo=ESLint&logoColor=white"/>
</p>

<br/>

### ğŸ‘¥ Contributors
|<img src<"https://user-images.githubusercontent.com/87058086/212255576-b3b9bccc-a8e3-453f-9bb9-be9e6ab018f6.jpeg" width="200">|<img src<"https://user-images.githubusercontent.com/87058086/212256100-1c55311a-06f1-4879-82e1-5501e9b10f1f.jpg" width="200">|
| :-----------------------------------: | :-----------------------------------------------: | 
|                ê¹€ë™ì¬                 |                      ì¡°í•˜ì–€                       |              
| [ ehdwoKIM ](https://github.com/ehdwoKIM) | [ yanh2 ](https://github.com/yanh2) |

<br/>

### ê¸°ëŠ¥ ì„¤ëª…

![18](https://user-images.githubusercontent.com/87058086/212251542-20700706-0fba-4136-8ee0-d6681d3af792.jpg)
![19](https://user-images.githubusercontent.com/87058086/212251546-83836007-ac36-4bd8-9b63-e51ee3f2dbf9.jpg)
![20](https://user-images.githubusercontent.com/87058086/212251550-557f5122-d548-4f49-9503-4643be625248.jpg)
![21](https://user-images.githubusercontent.com/87058086/212251551-281b002a-97ae-46dd-b034-58c6dd8a31d2.jpg)
![22](https://user-images.githubusercontent.com/87058086/212251552-9930de87-3a8e-4c31-9eab-7da7c64fd245.jpg)
![24](https://user-images.githubusercontent.com/87058086/212251554-542a53f5-a620-4c54-bc12-255426d296f7.jpg)
![26](https://user-images.githubusercontent.com/87058086/212251324-cbb37ad9-1ba1-4531-be1b-4e87d86204ad.jpg)
![27](https://user-images.githubusercontent.com/87058086/212251370-440775da-f4ae-48e4-9467-ec79a5ccd10b.jpg)
![29](https://user-images.githubusercontent.com/87058086/212251400-008115f9-ef46-4dc8-824e-182e85ccca3b.jpg)
![30](https://user-images.githubusercontent.com/87058086/212251429-f4099461-2968-41e2-b4ef-94a23f29c375.jpg)

<br/>

### ğŸ’» Roles
|ê¸°ëŠ¥ëª…|ì—”ë“œí¬ì¸íŠ¸|ë‹´ë‹¹|êµ¬í˜„ ì§„ì²™ë„|
| :---: | :---: | :---: | :---: |

|íšŒì›ê°€ì… ë° ë¡œê·¸ì¸|[POST] /auth/login|`ì¡°í•˜ì–€`| o |

|ì „ì²´ ì˜·ì¥ ì¡°íšŒ|[GET] /allCloset|`ê¹€ë™ì¬`| o |

|ì „ì²´ ì˜·ì¥ ì˜ë¥˜ ì •ë³´ ìˆ˜ì •|[PUT] /allCloset/:productId|`ê¹€ë™ì¬`| o |

|ì „ì²´ ì˜·ì¥ ì˜ë¥˜ ì‚­ì œ|[DELETE] /allCloset/:productId|`ê¹€ë™ì¬`| o |

|í¬í•¨ëœ ì¹´í…Œê³ ë¦¬ id ì¡°íšŒ|[GET] /allCloset/:productId|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ì— ì˜ë¥˜ ì¶”ê°€|[POST] /allCloset/toCategory|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ì „ì²´ ì¡°íšŒ|[GET] /category|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ìƒì„±|[POST] /category/createCategory|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ì‚­ì œ|[DELETE] /category/:categoryId|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ìˆ˜ì •|[PUT] /category/:categoryId|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ìƒì„¸ ì¡°íšŒ|[GET] /category/:categoryId|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ë‚´ ì˜ë¥˜ í•€ ê³ ì •/í•´ì œ |[PUT] /category/:categoryId/:productId|`ê¹€ë™ì¬`| o |

|ì¹´í…Œê³ ë¦¬ ë‚´ ì˜ë¥˜ ì‚­ì œ|[DELETE] /category/:categoryId/:inClothId|`ê¹€ë™ì¬`| o |

|ë§ˆì´ì‚¬ì´ì¦ˆ ì¡°íšŒ|[GET] /mysize|'ì¡°í•˜ì–€'| o |

|ë‚´ ìƒì˜ ì‚¬ì´ì¦ˆ ì •ë³´ ì…ë ¥|[POST] /mysize/topSize|'ì¡°í•˜ì–€'| o |

|ë‚´ í•˜ì˜ ì‚¬ì´ì¦ˆ ì •ë³´ ì…ë ¥|[POST] /mysize/bottomSize|'ì¡°í•˜ì–€'| o |

|ë§ˆì´í˜ì´ì§€ ì¡°íšŒ|[GET] /mypage|'ì¡°í•˜ì–€`| o |

|ì‚¬ì´ì¦ˆ ì¶”ì²œ ê¸°ë¡ ì¡°íšŒ|[GET] /mypage/history|`ì¡°í•˜ì–€`| o |

|ì „ì²´ ì˜·ì¥ì— ì €ì¥|[POST] /extesion/toAllCloset|'ê¹€ë™ì¬'| o |

|í¬ë¡¤ë§í•œ ì‚¬ì´ì¦ˆí‘œ ì €ì¥|[POST] /extesion/saveCrawling|'ê¹€ë™ì¬'| o |

|ì‚¬ì´ì¦ˆ ì¶”ì²œ ê²°ê³¼ ì €ì¥|[POST] /extension/saveBest|'ê¹€ë™ì¬'| o |

|ë¹„êµ ì‚¬ì´ì¦ˆ ìˆ˜ë™ ì…ë ¥|[POST] /extension/inputSize|'ê¹€ë™ì¬'| o |



<br/>

### ERD (ìˆ˜ì •ì¤‘)
![diagram](https://user-images.githubusercontent.com/87058086/210496676-54e17fcd-cc64-4a32-9311-a2e0b5bc5622.png)




<br/>

### ğŸ§‘â€ğŸ’» Code Convention

<details>
<summary>ë³€ìˆ˜ëª…</summary>   
<div markdown="1">       

 1. Camel Case ì‚¬ìš©
 2. í•¨ìˆ˜ì˜ ê²½ìš° ë™ì‚¬+ëª…ì‚¬ ì‚¬ìš© ( ex) getUser() )
 3. ì•½ì–´ëŠ” ë˜ë„ë¡ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
 
</div>
</details>

<details>
<summary>ì£¼ì„</summary>   
<div markdown="1">       

 1. í•œ ì¤„ ì£¼ì„ ì‚¬ìš© //
 2. í•¨ìˆ˜ ì£¼ì„
 ```
 /**
 * @route
 * @desc
 * @access
 **/
 getUser()
 ```
 
</div>
</details>

ì´ ì™¸ ESLint ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ë²•ì„ ë”°ë¥¸ë‹¤.

<br/>

### ğŸ‹ Branch Convention
|Branch ì´ë¦„|ìš©ë„|
| :--: | :--: |
|main|ì´ˆê¸° ì„¸íŒ…|
|develop|ë°°í¬ branch (api ë¡œì§ êµ¬í˜„ ì™„ë£Œ)|
|feature/#ì´ìŠˆë²ˆí˜¸|ì´ìŠˆë³„ api ë¡œì§ êµ¬í˜„|

- feature -> development : Pull Request (ì½”ë“œ ë¦¬ë·° ì—†ì´ merge ë¶ˆê°€)

<br/>

### â¬†ï¸ Commit Convention
```
[ë¸Œëœì¹˜ ì´ë¦„] ê¸°ëŠ¥ (ë˜ëŠ” ë³€ê²½ì‚¬í•­) ê°„ëµ ì„¤ëª… (70ì)

- ë³´ì¶© ì„¤ëª…ì´ í•„ìš”í•œ ê²½ìš°
- Headì— í•œì¹¸ì„ ë„ì–´ì„œ ì‘ì„±

issue tracker: ì´ìŠˆ ë²ˆí˜¸ (option)
```

<br/>

### ğŸ“‚ Folder Constructor
```
3-Layer Architecture ê¸°ë°˜

ğŸ“ src
|_ ğŸ“ constants
|_ ğŸ“ controller
|_ ğŸ“ interfaces
|_ ğŸ“ middlewares
|_ ğŸ“ modules
|_ ğŸ“ router
|_ ğŸ“ service
|_ ğŸ“ test
|_ index.ts
```
<details>
<summary> <h3> schema.prisma </h3></summary>   
<div markdown="1">   

```
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            Int             @id(map: "user_pk") @unique(map: "user_id_uindex") @default(autoincrement())
  name          String?         @db.VarChar(10)
  email         String          @unique @db.VarChar(50)
  userImage     String?         @db.VarChar(500)
  token         String?         @db.VarChar(500)
  AllCloset     AllCloset[]
  AllSizeBottom AllSizeBottom[]
  AllSizeTop    AllSizeTop[]
  Category      Category[]
  Recommend     Recommend[]
}

model AllCloset {
  id                 Int                  @id(map: "Archive_pkey") @unique(map: "Archive_id_key") @default(autoincrement())
  userId             Int                  @default(autoincrement())
  image              String?              @db.VarChar(500)
  productName        String?              @db.VarChar(36)
  size               String?              @db.VarChar(10)
  memo               String?              @db.VarChar(50)
  isRecommend        Boolean?
  isPin              Boolean              @default(false)
  mallName           String?              @db.VarChar(50)
  productUrl         String?              @db.VarChar(500)
  faviconUrl         String?              @db.VarChar(500)
  createdAt          String?              @db.VarChar(20)
  User               User                 @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "allcloset_user_id_fk")
  AllCloset_Category AllCloset_Category[]
}

model AllSizeBottom {
  id              Int      @id @unique @default(autoincrement())
  size            String?  @db.VarChar(10)
  bottomLength    Int?
  waist           Int?
  thigh           Int?
  rise            Int?
  hem             Int?
  isWidthOfBottom Boolean?
  isManual        Boolean?
  topOrBottom     Int?
  manualInputNum  Int?
  bottomItemId    Int?
  userId          Int      @default(autoincrement())
  User            User     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "allsizebottom_user_id_fk")
}

model AllSizeTop {
  id             Int      @id @unique @default(autoincrement())
  size           String?  @db.VarChar(10)
  topLength      Int?
  shoulder       Int?
  chest          Int?
  isWidthOfTop   Boolean?
  isManual       Boolean?
  topOrBottom    Int?
  manualInputNum Int?
  topItemId      Int?
  userId         Int      @default(autoincrement())
  User           User     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "allsizetop_user_id_fk")
}

model MySize {
  id              Int      @id @unique @default(autoincrement())
  userId          Int      @unique @default(autoincrement())
  topLength       Int?
  shoulder        Int?
  chest           Int?
  isWidthOfTop    Boolean?
  bottomLength    Int?
  waist           Int?
  thigh           Int?
  rise            Int?
  hem             Int?
  isWidthOfBottom Boolean?
}

model Category {
  id                 Int                  @id @unique @default(autoincrement())
  categoryName       String?              @db.VarChar(20)
  isPinCategory      Boolean?
  image              String[]             @db.VarChar
  userId             Int                  @default(autoincrement())
  AllCloset_Category AllCloset_Category[]
  User               User                 @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "category_user_id_fk")
}

model AllCloset_Category {
  id         Int       @id @unique @default(autoincrement())
  productId  Int       @default(autoincrement())
  categoryId Int       @default(autoincrement())
  isInPin    Boolean?
  AllCloset  AllCloset @relation(fields: [productId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "allcloset_category_allcloset_id_fk")
  Category   Category  @relation(fields: [categoryId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "allcloset_category_category_id_fk")
}

model Recommend {
  id            Int     @id @unique @default(autoincrement())
  userId        Int     @default(autoincrement())
  url           String? @db.VarChar(200)
  recommendSize String? @db.VarChar(10)
  topItemId     Int?
  bottomItemId  Int?
  User          User    @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "recommend_user_id_fk")
}

```
</div>
</details>

<br/>

<details>
<summary> <h3> ğŸ”¶ package.json (dependencies module)</h3></summary>   
<div markdown="1">   

```
{
  "name": "Server",
  "version": "1.0.0",
  "main": "index.js",
  "repository": "https://github.com/OWN-SIZE/Server.git",
  "author": "ehdwoKIM <kinbell19@gmail.com>",
  "license": "MIT",
  "scripts": {
    "dev": "nodemon",
    "build": "tsc && node dist",
    "db:pull": "npx prisma db pull",
    "db:push": "npx prisma db push",
    "generate": "npx prisma generate"
  },
  "dependencies": {
    "@prisma/client": "^4.6.1",
    "bcryptjs": "^2.4.3",
    "express": "^4.18.2",
    "express-validator": "^6.14.2",
    "prisma": "^4.6.1",
    "typescript": "^4.9.3"
  },
  "devDependencies": {
    "@types/bcryptjs": "^2.4.2",
    "@types/express": "^4.17.14",
    "@types/express-validator": "^3.0.0",
    "@types/node": "^18.11.9",
    "nodemon": "^2.0.20",
    "ts-node": "^10.9.1"
  }    
}
```
</div>
</details>
 
<br/>

### ğŸ“Œ Server Architecture
- ê°œë°œ í™˜ê²½ : Typescript, Express(Node.js)
- ë°ì´í„°ë² ì´ìŠ¤ : PostgreSQL, AWS S3
- ì„œë²„ í™˜ê²½ : AWS EC2, PM2
